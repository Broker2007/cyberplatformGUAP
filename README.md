# CyberPlatform (preview snapshot)

Веб‑платформа для студентов и преподавателей по информационной безопасности: студенты решают лабораторные работы в браузере (со встроенным терминалом), отправляют отчёты, преподаватели управляют группами и проверяют результаты. Этот репозиторий — публичный промежуточный срез; основная разработка и актуальный бэкенд ведутся в закрытом репозитории. Здесь лежит фронтенд-сборка, мок‑сервер и черновой бэкенд-заглушка.

## Что уже есть в этом срезе
- Лендинг с позиционированием Red/Blue Team и базовым роутингом.
- Каталог лабораторных работ: поиск с дебаунсом, пагинация, карточки лабораторных (`/lab-templates`).
- Страница лабораторной: описание, цели, ресурсы, заготовка консольного блока под терминал.
- Демо-страница групп и заданий для преподавателей (статические данные, UI-макет).
- Аутентификация на базе RTK Query: `SignUp`, `SignIn`, `refresh`, `logout`, хранение `accessToken` в `localStorage`.
- Темизация и Storybook для UI-компонентов, собранный storybook-static.
- Сборка фронта через Webpack 5, jest + Testing Library, stylelint/eslint.

## Демо

![CyberPlatform demo](demo/bandicam%202025-12-19%2010-19-52-123.gif)

## Структура репозитория
- `frontend/` — основной клиент (React + TypeScript, RTK Query, MUI частично).
  - `src/pages/*` — страницы: главная, логин/регистрация, список и карточка лабораторных, группы, профиль, ошибки.
  - `entities/labs`, `entities/user`, `features/auth`, `features/pagination` — доменные слайсы и API.
  - `shared/ui/*`, `widgets/*` — дизайн-система и составные блоки.
  - `json-server/` — мок-API (`npm run start:dev:server`), базовый `db.json`.
  - `storybook-static/`, `build/` — собранные артефакты.
- `backend/` — черновик на Go (пока только заглушка `main.go`).
- `deployments/dockerFILE` — черновой Dockerfile для будущей упаковки.

## Локальный запуск (фронтенд)
1) Установить Node.js 18+ и npm.  
2) В каталоге `frontend/` выполнить:
```
npm install
npm run start           # dev-сервер на 3000 с прокси на API 8000/8080
```
По умолчанию запросы идут на `http://localhost:8080` (см. `shared/api/baseQueryWithRefresh.ts`). Если реального API нет, можно поднять мок:
```
npm run start:dev:server  # json-server на 8000
```

Полезные скрипты:
- `npm run build:dev` / `npm run build:prod` — сборка.
- `npm run storybook` / `npm run build-storybook` — UI-каталог.
- `npm run test:unit` — jest.
- `npm run lint:ts`, `npm run lint:scss` (+ `:fix`) — линтеры.

## Архитектурные заметки
- RTK Query (`shared/api/baseApi`) с обновлением токена через `/auth/refresh`.
- Базовые эндпоинты ожидаются на стороне бэкенда: `/auth/SignUp`, `/auth/SignIn`, `/auth/logout`, `/auth/me`, `/lab-templates`, `/lab-templates/:id`.
- UI уже поддерживает пагинацию, поиск, отображение целей и ресурсов лабораторных, заготовку под терминал/отчёты.
- Логика групп/заданий сейчас статична и служит визуальным ориентиром для будущей интеграции.

## Ограничения snapshot-версии
- Бэкенд в этом репозитории не реализован; реальная логика, интеграции с песочницей/терминалом и управление группами находятся в закрытом репозитории.
- Данные для лабораторных и групп — мок или статика; требуется подключение к реальному API.
- Загрузку отчётов и проверку преподавателем ещё предстоит подключить.

## План ближайших шагов
- Подключить настоящий бэкенд (из приватного репозитория) к RTK Query-слоям.
- Встроить терминал/песочницу (websocket/VNC/eve-ng) в блок консоли на странице лабораторной.
- Реализовать потоки сдачи: загрузка отчётов, статусы, комментарии преподов.
- Оживить группы: реальные списки групп, участников, назначение и статус задач.
- Довести Dockerfile и CI под dev/stage/prod, добавить env-конфиги.

## Примечание о приватном репозитории
Полнофункциональная версия разрабатывается в закрытом репозитории; этот открытый срез нужен для предварительного просмотра UI/UX и синхронизации по требованиям. После согласования API и фичи будут слиты из приватной кодовой базы.

